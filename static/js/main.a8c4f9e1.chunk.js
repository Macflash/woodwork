(this.webpackJsonpwoodwork=this.webpackJsonpwoodwork||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(4),o=n.n(i),r=n(7),s=n.n(r),a=(n(15),n(5)),c=n(9),l=(n(16),n(0)),u=n(2),h=n(1),d=n(8),v=function(){};function f(){v()}var p="MOVE";function w(){return p}function m(e){p!==e&&(p=e,y.enabled="MOVE"===p,f())}var g,y,b=new h.n,E=[];function k(e){E.push(e)}var x=new h.s,C=[],F=null;function M(){return F}function L(e){var t;null===(t=F=e)||void 0===t||t.drawToScene()}function S(){return"Board-".concat(C.length)}function A(){return C}function D(e){return C.find((function(t){return t.name===e}))}var O=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(l.a)(this,e),this.width=t,this.height=n,this.length=i,this.origin=o,this.pending=r,this.name=S(),this.line=null,this.hovered=!1,this.selected=!1,this.vertices=this.createVerts(),C.push(this)}return Object(u.a)(e,[{key:"setOrigin",value:function(e){var t=this;this.vertices.forEach((function(e){return e.subVectors(e,t.origin)})),this.origin=e,this.vertices.forEach((function(e){return e.addVectors(e,t.origin)})),this.updateGeometry()}},{key:"createVerts",value:function(){var e=this,t=[];return t.push(new h.s(0,0,0)),t.push(new h.s(this.width,0,0)),t.push(new h.s(this.width,this.height,0)),t.push(new h.s(0,this.height,0)),t.push(new h.s(0,0,this.length)),t.push(new h.s(0,this.height,this.length)),t.push(new h.s(this.width,this.height,this.length)),t.push(new h.s(this.width,0,this.length)),t.map((function(t){return t.add(e.origin)}))}},{key:"updateGeometry",value:function(){var e=this.getLinePoints();this.line.geometry=(new h.a).setFromPoints(e)}},{key:"updateColor",value:function(){this.pending?this.line.material=new h.e({color:16776960}):this.selected?this.line.material=new h.e({color:16711782}):this.hovered?this.line.material=new h.e({color:65535}):this.line.material=new h.e({color:65382})}},{key:"select",value:function(){this.selected=!0,this.updateColor()}},{key:"unselect",value:function(){this.selected=!1,this.updateColor()}},{key:"hover",value:function(){this.hovered=!0,this.updateColor()}},{key:"unhover",value:function(){this.hovered=!1,this.updateColor()}},{key:"fix",value:function(){return this.pending=!1,k(this.line),this}},{key:"hide",value:function(){this.line.visible=!1}},{key:"show",value:function(){this.line.visible=!0}},{key:"drawToScene",value:function(){var e=b,t=(this.getPoints(),this.getLines());return e.add(t),this.pending||k(t),this.updateColor(),this}},{key:"getPoints",value:function(){var e=new h.c;e.vertices.push(this.vertices[0]),e.vertices.push(this.vertices[1]),e.vertices.push(this.vertices[2]),e.vertices.push(this.vertices[3]),e.vertices.push(this.vertices[4]),e.vertices.push(this.vertices[5]),e.vertices.push(this.vertices[6]),e.vertices.push(this.vertices[7]);var t=new h.k({size:2,sizeAttenuation:!1});return new h.j(e,t)}},{key:"getLinePoints",value:function(){var e=[];return e.push(this.vertices[0]),e.push(this.vertices[4]),e.push(this.vertices[5]),e.push(this.vertices[3]),e.push(this.vertices[0]),e.push(this.vertices[1]),e.push(this.vertices[7]),e.push(this.vertices[4]),e.push(this.vertices[7]),e.push(this.vertices[6]),e.push(this.vertices[5]),e.push(this.vertices[6]),e.push(this.vertices[2]),e.push(this.vertices[1]),e.push(this.vertices[2]),e.push(this.vertices[3]),e}},{key:"getLines",value:function(){var e=this.getLinePoints(),t=(new h.a).setFromPoints(e),n=new h.e({color:65382}),i=new h.d(t,n);return i.name=this.name,this.line=i,i}},{key:"rotateX",value:function(e){var t=this;return console.log("angle",e),e=void 0===e?Math.PI/2:e,console.log("used angle",e),this.vertices.forEach((function(n){return n.subVectors(n,t.origin).applyAxisAngle(new h.s(1,0,0),void 0===e?Math.PI/2:e).addVectors(n,t.origin)})),this}},{key:"rotateY",value:function(e){var t=this;return this.vertices.forEach((function(n){return n.subVectors(n,t.origin).applyAxisAngle(new h.s(0,1,0),void 0===e?Math.PI/2:e).addVectors(n,t.origin)})),this}},{key:"rotateZ",value:function(e){var t=this;return this.vertices.forEach((function(n){return n.subVectors(n,t.origin).applyAxisAngle(new h.s(0,0,1),void 0===e?Math.PI/2:e).addVectors(n,t.origin)})),this}}]),e}(),P=new O(2,4,48,new h.s(-12,0,-15)),j=new O(2,4,24,P.vertices[1]).rotateY(),V=new O(2,4,48,j.vertices[4]);!function(){(g=new h.i(45,window.innerWidth/window.innerHeight,1,500)).position.set(25,50,100),g.lookAt(25,25,25);var e=new h.t({antialias:!0});e.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(e.domElement),(y=new d.a(g,e.domElement)).enableDamping=!0;var t=new h.s(0,0,0),n=new h.s(10,0,0),i=new h.s(0,10,0),o=new h.s(0,0,10);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215,n=(new h.a).setFromPoints(e),i=new h.e({color:t}),o=new h.d(n,i);b.add(o)}r([t,n],16711680),r([t,i],65280),r([t,o],255);var s=new h.o(.5),a=new h.h({color:16777215}),c=new h.g(s,a);c.visible=!1,b.add(c),s=new h.o(1),a=new h.h({color:16711680});var l=new h.g(s,a);l.visible=!1,b.add(l);var u=new h.r,v=new h.r,w=!1;document.oncontextmenu=function(e){var t,n;if("ADD"===p)return null===(t=e.preventDefault)||void 0===t||t.call(e),null===(n=e.stopPropagation)||void 0===n||n.call(e),!1},document.addEventListener("mousedown",(function(e){if(console.log("click!",e),!w&&"SELECT"===p){if(2===e.button)return;if((n=k.intersectObjects(E,!0)).length>0){var t=D(n[0].object.name);t&&(console.log("Selected! ",t),t.selected?t.unselect():t.select(),f())}}if(!w&&"ADD"===p&&M()){if(2===e.button)return void M().rotateX().setOrigin(M().origin);var n,i;(n=k.intersectObjects(E,!0)).length>0&&(null===(i=M())||void 0===i||i.setOrigin(n[0].point),M().fix(),L(null),f())}w=!0})),document.addEventListener("keydown",(function(e){if("ADD"===p){var t=M();if(t)switch(e.key){case"a":t.rotateY();break;case"d":t.rotateY(Math.PI/-2);break;case"s":t.rotateX();break;case"w":t.rotateX(Math.PI/-2);break;case"q":t.rotateZ();break;case"e":t.rotateZ(Math.PI/-2)}}"m"!==e.key&&"Escape"!==e.key||m("MOVE"),e.key,e.key})),document.addEventListener("mouseup",(function(e){w=!1})),document.addEventListener("mousemove",(function(e){v.x=u.x,v.y=u.y,e.preventDefault(),u.x=e.clientX/window.innerWidth*2-1,u.y=-e.clientY/window.innerHeight*2+1}),!1),window.addEventListener("resize",(function(){g.aspect=window.innerWidth/window.innerHeight,g.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}),!1);var k=new h.m;function x(e,t,n,i){var o=(new h.s).copy(e).project(g);o.x=(o.x+1)*window.innerWidth/2,o.y=-(o.y-1)*window.innerHeight/2,o.z=0;var r=document.getElementById(t);r||((r=document.createElement("div")).id=t,r.style.position="absolute",document.body.appendChild(r),r.style.color=i),r.innerText=n,r.style.top=o.y+"px",r.style.left=o.x+"px"}k.params.Line.threshold=2,k.params.Points.threshold=.5,function t(){requestAnimationFrame(t),y.update(),function(){if("SELECT"===p){A().forEach((function(e){return e.unhover()})),k.setFromCamera(u,g);var e=k.intersectObjects(E,!0);if(e.length>0){var t=D(e[0].object.name);t&&t.hover()}}}(),function(){if("ADD"===p){A().forEach((function(e){return e.unhover()})),k.setFromCamera(u,g);var e=k.intersectObjects(E,!0);if(e.length>0){c.visible=!0,c.position.copy(e[0].point);var t=D(e[0].object.name);t&&t.hover();var n,i=M();if(i)null===(n=M())||void 0===n||n.show(),i.setOrigin(e[0].point)}else{var o;c.visible=!1,null===(o=M())||void 0===o||o.hide()}}}(),x(n,"xaxis","X","red"),x(i,"yaxis","Y","green"),x(o,"zaxis","Z","blue"),e.render(b,g)}()}(),P.drawToScene().fix(),j.drawToScene().fix(),V.drawToScene().fix();var z=function(){var e=o.a.useState(0),t=Object(c.a)(e,2),n=(t[0],t[1]),r=Object(i.useCallback)((function(){n(Math.random())}),[n]);o.a.useEffect((function(){v=r}),[r]);var s="1px solid ".concat("#00FF88"),l={cursor:"pointer",width:50,height:50,textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",border:s,margin:10,backgroundColor:"black",color:"#00FF88"},u=Object(a.a)(Object(a.a)({},l),{},{color:"black",backgroundColor:"#00FF88"});return o.a.createElement("div",{className:"App"},o.a.createElement("div",{style:{position:"absolute",color:"#00FF88",top:10,left:10,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:32}},"WoodWork"),"ADD"===w()?o.a.createElement("div",{style:{border:s,position:"absolute",color:"#00FF88",right:10,bottom:10,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,padding:10}},"Items",o.a.createElement("br",null),M()?o.a.createElement("button",{style:u,onClick:function(){L(null),r()}},"Cancel"):o.a.createElement("button",{style:l,onClick:function(){L(new O(2,4,12,void 0,!0)),r()}},"2x4")):null,o.a.createElement("div",{style:{border:s,position:"absolute",color:"#00FF88",right:10,top:10,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:14,padding:10}},"Boards",o.a.createElement("br",null),A().map((function(e){return o.a.createElement("div",{style:{cursor:"pointer",margin:2,padding:2,border:e.selected?s:"1px solid black",color:e.selected?"#FF0066":e.hovered?"#00FFFF":void 0},onMouseEnter:function(){e.hover(),r()},onMouseLeave:function(){e.unhover(),r()},onClick:function(){e.selected?e.unselect():e.select(),r(),console.log("clicked",e)}},e.name)}))),o.a.createElement("div",{style:{border:s,position:"absolute",color:"#00FF88",left:10,bottom:10,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,padding:10}},"Actions",o.a.createElement("br",null),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("button",{style:"MOVE"===w()?u:l,onClick:function(){m("MOVE"),r()}},"Move"),o.a.createElement("button",{style:"SELECT"===w()?u:l,onClick:function(){m("SELECT"),r()}},"Select"),o.a.createElement("button",{style:"ADD"===w()?u:l,onClick:function(){m("ADD"),r()}},"Add"))),"SELECT"===w()?o.a.createElement("div",{style:{border:s,position:"absolute",color:"#00FF88",right:10,bottom:10,fontFamily:'"Lucida Console", Monaco, monospace',fontSize:12,padding:10}},"Selection",o.a.createElement("br",null),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("button",{style:A().filter((function(e){return e.selected})).length>0?u:l,onClick:function(){A().forEach((function(e){return e.unselect()})),r()}},"Clear"))):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.a8c4f9e1.chunk.js.map